# SonarQube Configuration for MATURING repositories
# Advanced code quality metrics and gates

# Project identification
sonar.projectKey=fair-credit-scorer-bias-mitigation
sonar.projectName=Fair Credit Scorer Bias Mitigation
sonar.projectVersion=0.2.0
sonar.organization=fair-ml-org

# Source and test directories
sonar.sources=src
sonar.tests=tests
sonar.python.coverage.reportPaths=htmlcov/coverage.xml,coverage.xml

# Exclusions
sonar.exclusions=**/*.pyc,**/__pycache__/**,**/migrations/**,**/venv/**,**/env/**,.git/**,build/**,dist/**,*.egg-info/**
sonar.test.exclusions=**/test_*.py,**/*_test.py,**/conftest.py

# Language-specific settings
sonar.python.version=3.8,3.9,3.10,3.11

# Quality Gates - MATURING repository standards
sonar.qualitygate.wait=true

# Coverage thresholds
sonar.coverage.exclusions=**/test_*.py,**/*_test.py,**/conftest.py,**/__init__.py
sonar.python.coverage.overallCoverageThreshold=80
sonar.python.coverage.lineCoverageThreshold=80
sonar.python.coverage.branchCoverageThreshold=75

# Code smells and maintainability
sonar.python.pylint.reportPath=pylint-report.txt
sonar.python.bandit.reportPath=bandit-report.json
sonar.python.mypy.reportPath=mypy-report.txt

# Duplication thresholds
sonar.cpd.python.minimumTokens=50
sonar.cpd.exclusions=**/test_*.py,**/*_test.py

# Security hotspots
sonar.python.bandit.enabled=true

# Custom metrics for fairness ML projects
sonar.python.fairness.enabled=true
sonar.python.bias.detection.enabled=true

# Issue severity mappings
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Ignore specific rules for test files
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S101
sonar.issue.ignore.multicriteria.e1.resourceKey=**/test_*.py

# Ignore line length in generated files
sonar.issue.ignore.multicriteria.e2.ruleKey=python:S103
sonar.issue.ignore.multicriteria.e2.resourceKey=**/migrations/*.py

# Ignore complexity in ML model files (acceptable for fairness algorithms)
sonar.issue.ignore.multicriteria.e3.ruleKey=python:S3776
sonar.issue.ignore.multicriteria.e3.resourceKey=**/fairness_metrics.py,**/bias_mitigator.py

# Ignore docstring requirements for private methods
sonar.issue.ignore.multicriteria.e4.ruleKey=python:S1542
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*

# Ignore magic numbers in test files
sonar.issue.ignore.multicriteria.e5.ruleKey=python:S1192
sonar.issue.ignore.multicriteria.e5.resourceKey=**/test_*.py

# Analysis parameters
sonar.analysis.mode=publish
sonar.scm.provider=git
sonar.scm.forceReloadAll=true

# Branch analysis
sonar.branch.name=${BRANCH_NAME}
sonar.branch.target=main

# Pull request analysis
sonar.pullrequest.key=${PULL_REQUEST_KEY}
sonar.pullrequest.branch=${PULL_REQUEST_BRANCH}
sonar.pullrequest.base=${PULL_REQUEST_BASE}

# Links and metadata
sonar.links.homepage=https://github.com/organization/fair-credit-scorer
sonar.links.ci=https://github.com/organization/fair-credit-scorer/actions
sonar.links.scm=https://github.com/organization/fair-credit-scorer
sonar.links.issue=https://github.com/organization/fair-credit-scorer/issues

# Additional properties for CI/CD integration
sonar.host.url=${SONAR_HOST_URL}
sonar.login=${SONAR_TOKEN}

# Performance tuning
sonar.log.level=INFO
sonar.verbose=false